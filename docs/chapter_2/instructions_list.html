<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Full Instruction List - KASM Guide</title>


        <!-- Custom HTML head -->

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../introduction/introduction.html">Introduction</a></li><li class="chapter-item expanded affix "><a href="../installation/installation.html">Installation</a></li><li class="chapter-item expanded "><a href="../chapter_1/running_kasm.html"><strong aria-hidden="true">1.</strong> Running KASM</a></li><li class="chapter-item expanded "><a href="../chapter_2/kasm_language.html"><strong aria-hidden="true">2.</strong> KASM Language</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chapter_2/for_beginners.html"><strong aria-hidden="true">2.1.</strong> For Beginners</a></li><li class="chapter-item expanded "><a href="../chapter_2/basic_syntax.html"><strong aria-hidden="true">2.2.</strong> Basic Syntax</a></li><li class="chapter-item expanded "><a href="../chapter_2/data_types.html"><strong aria-hidden="true">2.3.</strong> Data Types</a></li><li class="chapter-item expanded "><a href="../chapter_2/expressions.html"><strong aria-hidden="true">2.4.</strong> Expressions</a></li><li class="chapter-item expanded "><a href="../chapter_2/instructions_list.html" class="active"><strong aria-hidden="true">2.5.</strong> Full Instruction List</a></li></ol></li><li class="chapter-item expanded "><a href="../chapter_3/kasm_preprocessor.html"><strong aria-hidden="true">3.</strong> KASM Preprocessor</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chapter_3/single_line_macros.html"><strong aria-hidden="true">3.1.</strong> Single-Line Macros</a></li><li class="chapter-item expanded "><a href="../chapter_3/multi_line_macros.html"><strong aria-hidden="true">3.2.</strong> Multi-Line Macros</a></li><li class="chapter-item expanded "><a href="../chapter_3/repeats.html"><strong aria-hidden="true">3.3.</strong> Repeats</a></li><li class="chapter-item expanded "><a href="../chapter_3/include.html"><strong aria-hidden="true">3.4.</strong> Include</a></li><li class="chapter-item expanded "><a href="../chapter_3/if_directives.html"><strong aria-hidden="true">3.5.</strong> If* Directives</a></li></ol></li><li class="chapter-item expanded "><a href="../chapter_4/assembly_directives.html"><strong aria-hidden="true">4.</strong> Assembly Directives</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chapter_4/sections.html"><strong aria-hidden="true">4.1.</strong> Sections</a></li></ol></li><li class="chapter-item expanded "><a href="../chapter_5/tutorial.html"><strong aria-hidden="true">5.</strong> Tutorial</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chapter_5/hello_world.html"><strong aria-hidden="true">5.1.</strong> Hello World</a></li><li class="chapter-item expanded "><a href="../chapter_5/launch.html"><strong aria-hidden="true">5.2.</strong> Launch</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> Advanced Tutorial</div></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">KASM Guide</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="full-instruction-list"><a class="header" href="#full-instruction-list">Full Instruction List</a></h1>
<p>This is simply a list of all instructions that are in KASM, grouped by common purpose.</p>
<h2 id="stack-operations"><a class="header" href="#stack-operations">Stack Operations</a></h2>
<p><strong>push</strong> (any) - Pushes a value to the stack</p>
<p><strong>pushv</strong> (any) - Pushes a value to the stack, but as kOS &quot;scalar&quot; or &quot;value&quot; versions<br />
(this instruction does not exist in kOS, it is just for the purposes of user control)</p>
<p><strong>pop</strong> - Removes the value from the top of the stack and discards it</p>
<p><strong>dup</strong> - Copies the value from the top of the stack and pushes that copy, so there are two of the original</p>
<p><strong>swap</strong> - Swaps the value on the top of the stack and the one below it</p>
<p><strong>eval</strong> - Returns the value referenced by the topmost variable on the stack</p>
<p><strong>targ</strong> - Asserts that the topmost thing on the stack is an argument marker (throws a kOS error if it isn't!)</p>
<h2 id="mathematical-operations"><a class="header" href="#mathematical-operations">Mathematical Operations</a></h2>
<p>These all push the result back to the stack</p>
<p>All of these behave in this way:</p>
<p>(this side is the value just below the top of the stack) - (this is the top of the stack)</p>
<p><strong>add</strong> - Adds the two arguments on top of the stack</p>
<p><strong>sub</strong> - Subtracts the two arguments on top of the stack</p>
<p><strong>mul</strong> - Multiplies the two arguments on top of the stack</p>
<p><strong>div</strong> - Divides the two arguments on top of the stack</p>
<p><strong>pow</strong> - Raises the value just under the top, to the power of the top</p>
<p><strong>neg</strong> - Pushes back the negative of the number on the top of the stack</p>
<h2 id="logical-operations"><a class="header" href="#logical-operations">Logical Operations</a></h2>
<p>All of these behave in this way:</p>
<p>(this side is the value just below the top of the stack) &gt; (this is the top of the stack)</p>
<p><strong>cgt</strong> - Checks if one number is greater than the other</p>
<p><strong>clt</strong> - Less than</p>
<p><strong>cge</strong> - Greater than or equal</p>
<p><strong>cle</strong> - Less than or equal</p>
<p><strong>ceq</strong> - Equal to</p>
<p><strong>cne</strong> - Not equal to</p>
<p><strong>not</strong> - Pushes back the opposite of the boolean value on top of the stack (true -&gt; false, false -&gt; true)</p>
<p><strong>and</strong> - Pushes true, if both values on top of the stack are true</p>
<p><strong>or</strong> - Pushes true, if at least one value on top of the stack is true</p>
<h2 id="flow-control"><a class="header" href="#flow-control">Flow Control</a></h2>
<p><strong>eof</strong> - Tells kOS that this is the end of the file, so it should stop reading the program</p>
<p><strong>eop</strong> - Tells kOS that this is the end of the program</p>
<p><strong>nop</strong> - No-Op, does nothing</p>
<p><strong>jmp</strong> (string | int | label) - Unconditionally jumps to the location specified in the operand, it can be a string or an integer (for relative jumps)</p>
<p><strong>call</strong> (string | label), (string) - Calls a subroutine, leaving the result on the stack, both operands are strings</p>
<p><strong>ret</strong> (int) - Returns from a subroutine and pops off the number of scopes as provided in the operand</p>
<p><strong>btr</strong> (string | int | label) - If the value on the top of the stack is true, then it branches to the given location</p>
<p><strong>bfa</strong> (string | int | label) - Same as btr but if the value is false</p>
<p><strong>wait</strong> - Pops a duration in seconds from the stack and waits for that amount of game time</p>
<h2 id="variable-manipulation"><a class="header" href="#variable-manipulation">Variable Manipulation</a></h2>
<p><strong>sto</strong> (string) - Stores the value on the top of the stack in the variable specified by the operand</p>
<p><strong>uns</strong> - Removes the variable named by the value on the top of the stack</p>
<p><strong>stol</strong> (string) - Stores the value on the top of the stack in the variable specified by the operand, but if the variable does not exist in the current scope it won't attempt to look for it in a higher scope.</p>
<p><strong>stog</strong> (string) - Stores the value on the top of the stack in the variable specified by the operand, but always stores it in a global variable.</p>
<p><strong>stoe</strong> (string) - Stores the value on the top of the stack in the variable specified by the operand, but if the variable does not exist yet, it will throw an error instead of creating a new one.</p>
<p><strong>exst</strong> - Tests if the identifier on the top of the stack is a variable, and is in scope. It will push true if it is, and false if it is not.</p>
<h2 id="member-values"><a class="header" href="#member-values">Member Values</a></h2>
<p><strong>gmb</strong> (string) - Consumes the topmost value of the stack, getting the suffix of it specified by operand and putting that value back on the stack. Ex: <code>SHIP:ALTITUDE</code></p>
<p><strong>smb</strong> (string) - Consumes a value and a destination object from the stack, setting the objects suffix specified by the operand to the value.</p>
<p><strong>gidx</strong> - Consumes an index and an target object from the stack, getting the indexed value from the object and pushing the result back on the stack.</p>
<p><strong>sidx</strong> - Consumes a value, an index, and an object from the stack, setting the specified index on the object to the given value.</p>
<p><strong>gmet</strong> - Similar to <code>gmb</code> except instead of getting the member as a value, it is called as if it was a function.</p>
<p>Ex: <code>SHIP:NAME()</code></p>
<h2 id="triggers"><a class="header" href="#triggers">Triggers</a></h2>
<p><strong>addt</strong> (bool), (int) - Pops a function pointer from the stack and adds a trigger that will be called each cycle. The second operand
contains the Interrupt Priority level of the trigger. For one trigger to interrupt another, it needs a higher priority, else it waits
until the first trigger is completed before it will fire.</p>
<p><strong>rmvt</strong> - Pops a function pointer from the stack and removes any triggers that call that function pointer.</p>
<h2 id="scopes"><a class="header" href="#scopes">Scopes</a></h2>
<p><strong>bscp</strong> (int), (int) - Pushes a new variable namespace scope (for example, when a &quot;{&quot; is encountered in a block-scoping language),
the first operand being the new scope id, and the second one being the parent scope id.</p>
<p><strong>escp</strong> (int) - Pops a variable namespace scope (for example, when a &quot;}&quot; is encountered in a block-scoping language), the operand
being the number of scope depths to pop.</p>
<h2 id="delegates"><a class="header" href="#delegates">Delegates</a></h2>
<p><strong>phdl</strong> (int), (bool) - Pushes a delegate object onto the stack, optionally capturing a closure.</p>
<p><strong>prl</strong> (string) - See KOS Code docs for more information.</p>
<p><strong>pdrl</strong> (string), (bool) - This serves the same purpose as prl, except it's for use with UserDelegates instead of raw integer IP calls.</p>
<h2 id="misc"><a class="header" href="#misc">Misc.</a></h2>
<p><strong>lbrt</strong> (string) - It exists purely to store, as an operand, the label of the next opcode to follow it. Mostly used for internal kOS things.<br />
This shouldn't really be used when writing KASM unless you know exactly what you are doing, as it can have unintended and hard to debug consequences.</p>
<p><strong>tcan</strong> - Tests whether or not the current subroutine context on the stack that is being executed right now is one that has been flagged
as cancelled by someone having called SubroutineContext.Cancel(). This pushes a True or a False on the stack to provide the answer. This should be
the first thing done by triggers that wish to be cancel-able by other triggers.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../chapter_2/expressions.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../chapter_3/kasm_preprocessor.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../chapter_2/expressions.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../chapter_3/kasm_preprocessor.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
